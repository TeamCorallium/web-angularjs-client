<div  ng-controller="ForumBaseViewVotationCtrl">
	<section id="page-title">
		<div class="row">
			<div class="col-sm-8">
				<h1 class="mainTitle">{{currentForumActive.projectName}} FORUM</h1>
			</div>
			<!--<div ncy-breadcrumb></div>-->
		</div>
	</section>
	<div class="container-fluid container-fullw bg-white">
		<div class="row">
			<div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
				<p><strong>Title: </strong> {{currentProposalView.name}} </p>
			</div>
			<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
				<p class="pull-right"><strong>Deathline: </strong> {{getProjectDate(currentProposalView.deathLine)}} </p>
			</div>
		</div>
		<hr class="tall">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<ul class="list-unstyled">
					<li ng-repeat="proposal in proposalAbstractView">
						<fieldset>
							<legend><p><strong>Proposal Type: </strong> {{proposal.type}}</p></legend>

							<div class="row" ng-show="proposal.type == 'Modified Task State' || proposal.type == 'Modified Task Duration' ||
									 proposal.type == 'Modified Task Name' || proposal.type == 'Modified Task Description' ||
									 proposal.type == 'Modified Task Outcome' || proposal.type == 'Modified Task Start Date' ||
									 proposal.type == 'Modified Task Cost'">
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
									<p><strong>Task Name: </strong> {{proposal.name}} </p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task State'">
									<p><strong>Current State: </strong> {{stateArray[proposal.currentContent]}} </p>
									<p><strong>Proposal State: </strong> {{stateArray[proposal.itemContent]}} </p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Duration'">
									<p><strong>Current Duration: </strong> {{proposal.currentContent}} days</p>
									<p><strong>Proposal Duration: </strong> {{proposal.itemContent}} days</p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Name'">
									<p><strong>Current Name: </strong> {{proposal.currentContent}}</p>
									<p><strong>Proposal Name: </strong> {{proposal.itemContent}}</p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Description'">
									<p><strong>Current Description: </strong> {{proposal.currentContent}}</p>
									<p><strong>Proposal Description: </strong> {{proposal.itemContent}}</p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Outcome'">
									<p><strong>Current Outcome: </strong> {{proposal.currentContent}}</p>
									<p><strong>Proposal Outcome: </strong> {{proposal.itemContent}}</p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Start Date'">
									<p><strong>Current Start Date: </strong> {{getProjectDate(proposal.currentContent)}}</p>
									<p><strong>Proposal Start Date: </strong> {{getProjectDate(proposal.itemContent)}}</p>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="proposal.type == 'Modified Task Cost'">
									<p><strong>Current Cost: </strong> {{proposal.currentContent}}</p>
									<p><strong>Proposal Cost: </strong> {{proposal.itemContent}}</p>
								</div>
							</div>
							<div class="row" ng-show="proposal.type == 'Start Project'">
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
									<p> <strong>Proposal Content: </strong> {{proposal.itemContent}} </p>
								</div>
							</div>
						</fieldset>
					</li>
				</ul>
			</div>
		</div>
		<hr class="tall">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<fieldset>
					<legend>View Results</legend>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<p ng-show="currentProposalView.type == 'Modified Task State'"><strong>Task State: </strong> {{stateArray[currentProposalView.proposalContent]}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Duration'"><strong>Task Duration: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Name'"><strong>Task Name: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Description'"><strong>Task Description: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Outcome'"><strong>Task Outcome: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Start Date'"><strong>Task Start Date: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Modified Task Cost'"><strong>Task Total Cost: </strong> {{currentProposalView.proposalContent}} </p>
						<p ng-show="currentProposalView.type == 'Start Project'"><strong>Description: </strong> {{currentProposalView.proposalContent}} </p>
					</div>
					<div class="panel-body margin-top-15">
						<div class="row">
							<h5 class="col-xs-1 col-sm-1 col-md-1 col-lg-1"><strong>YES</strong></h5>
							<uib-progressbar value="countVotes.yes" max="100" class="progress-md col-xs-11 col-sm-11 col-md-11 col-lg-11 no-padding" type="success">{{countVotes.yes | number: 2}} %</uib-progressbar>
						</div>
						<div class="row">
							<h5 class="col-xs-1 col-sm-1 col-md-1 col-lg-1"><strong>NO</strong></h5>
							<uib-progressbar value="countVotes.no" max="100" class="progress-md col-xs-11 col-sm-11 col-md-11 col-lg-11 no-padding" type="danger">{{countVotes.no | number: 2}} %</uib-progressbar>
						</div>
						<div class="row">
							<h5 class="col-xs-1 col-sm-1 col-md-1 col-lg-1"><strong>ABS</strong></h5>
							<uib-progressbar value="countVotes.abs" max="100" class="progress-md col-xs-11 col-sm-11 col-md-11 col-lg-11 no-padding" type="info">{{countVotes.abs | number: 2}} %</uib-progressbar>
						</div>
					</div>
				</fieldset>
			</div>
			<hr class="tall" ng-show="allVoteAbstract.length > 0">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="allVoteAbstract.length > 0">
				<table class="table table-striped" wt-responsive-table>
					<thead>
					<tr>
						<th> Name </th>
						<th class="text-right"> Vote </th>
						<th class="text-right"> % </th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="vote in allVoteAbstract">
						<td> {{vote.name}} </td>
						<td class="text-right"> {{showVoteValue(vote.value)}} </td>
						<td class="text-right"> {{vote.percent | number: 2}} </td>
					</tr>
					</tbody>
				</table>
			</div>
			<hr class="tall">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<button ui-sref="app.forum.base" type="button" class="btn btn-primary btn-wide btn-scroll btn-scroll-top ti-comment-alt">
					<span>Go to forum</span>
				</button>
			</div>
		</div>
	</div>
</div>